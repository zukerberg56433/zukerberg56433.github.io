<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to Varsha's Basement</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Using Inter as a close alternative for FKGroteskNeue since it's not a standard web font.
         If you have FKGroteskNeue as a custom font file, you would use @font-face. -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Typography */
            /* Note: FKGroteskNeue and Geist are typically custom fonts.
                     'Inter' is used here as a widely available alternative for the base font.
                     'Roboto Mono' is used for mono to approximate 'Berkeley Mono'.
                     If you have access to FKGroteskNeue and Berkeley Mono font files,
                     you would use @font-face to include them. */
            --font-family-base: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            --font-family-mono: "Roboto Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
            --font-size-xs: 11px;
            --font-size-sm: 12px;
            --font-size-base: 14px;
            --font-size-md: 14px;
            --font-size-lg: 16px;
            --font-size-xl: 18px;
            --font-size-2xl: 20px;
            --font-size-3xl: 24px;
            --font-size-4xl: 30px;
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 600; /* Adjusted from 550 to a common web weight */
            --font-weight-bold: 700;    /* Adjusted from 600 to a common web weight */
            --line-height-tight: 1.2;
            --line-height-normal: 1.5;
            --letter-spacing-tight: -0.01em;
        }

        body {
            background-color: #000;
            color: #fff;
            font-family: var(--font-family-base);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            text-align: center;
            flex-direction: column;
            overflow: hidden; /* Prevent scrollbars if content slightly overflows */
        }

        h1 {
            font-size: var(--font-size-4xl);
            font-weight: var(--font-weight-bold);
            margin-bottom: 2rem;
            letter-spacing: var(--letter-spacing-tight);
            line-height: var(--line-height-tight);
        }

        .enter-button {
            background-color: #fff;
            color: #000;
            border: none;
            padding: 1rem 2rem;
            font-size: var(--font-size-lg);
            font-weight: var(--font-weight-medium);
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .enter-button:hover {
            background-color: #ccc;
        }

        .enter-button:active {
            background-color: #999;
        }
    </style>
</head>
<body>

    <h1>Welcome to Varsha's basement.</h1>
    <button class="enter-button" id="enterButton">click to enter</button>

    <!-- Tone.js for background music -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <script>
        let backgroundMusicStarted = false;
        let transportStarted = false;

        const startBackgroundMusic = async () => {
            if (backgroundMusicStarted) return; // Prevent multiple starts
            backgroundMusicStarted = true;

            await Tone.start(); // This is crucial for audio context to be active

            const synth = new Tone.Synth().toDestination();
            const notes = ["C2", "E2", "G2", "B2", "C3", "E3", "G3", "B3", "C4", "E4"];
            let count = 0;

            Tone.Transport.scheduleRepeat(time => {
                const binary = count.toString(2).padStart(notes.length, '0');
                for (let i = 0; i < binary.length; i++) {
                    if (binary[i] === '1') {
                        // Shorten release to make it sound more like binary beeps
                        synth.triggerAttackRelease(notes[i], "16n", time);
                    }
                }
                count++;
            }, "8n"); // Schedule an event every 8th note

            if (!transportStarted) {
                Tone.Transport.start();
                transportStarted = true;
            }
        };
        
        // Listen for the first user interaction on the document body to start background music
        // 'once: true' ensures the event listener is removed after it's fired once.
        document.body.addEventListener('click', startBackgroundMusic, { once: true });


        // Play sound on button click
        const enterButton = document.getElementById('enterButton');
        const enterSound = new Audio('music.mp3'); // Ensure music.mp3 is in the same directory

        enterButton.addEventListener('click', () => {
            // Ensure audio context is started before playing the click sound as well
            // This handles cases where the user might click the button first without clicking body.
            if (!backgroundMusicStarted) {
                startBackgroundMusic(); // Start background music if not already started
            }
            enterSound.play().catch(e => console.error("Error playing enter sound:", e));
        });
    </script>

</body>
</html>
